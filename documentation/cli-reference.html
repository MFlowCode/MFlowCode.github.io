<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-SY496B9L99"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-SY496B9L99');
</script>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.16.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MFC: CLI Reference</title>
<meta name="description" content="CLI Reference â€” MFC documentation. Open-source exascale multiphase flow solver." />
<meta name="keywords" content="exascale, fluid dynamics, cfd, computational fluid dynamics, compressible, hpc, bryngelson, colonius, subgrid, multiphase, frontier, summit, el capitan, aurora, amd gpu, gpu, nvidia"/>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
// This file is set as MATHJAX_CODEFILE in the Doxyfile. It configures how
// MathJax renders expressions in Markdown so that it is consistent with GitHub.
MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX", "output/HTML-CSS"],
    tex2jax: {
      inlineMath:  [ ['$',  '$'], ["\\(","\\)"] ],
      displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
      processEscapes: true,
      ignoreClass: "line" // Ignore code blocks: https://web.archive.org/web/20120430100225/http://www.mathjax.org/docs/1.1/options/tex2jax.html
    },
    "HTML-CSS": {
      fonts: ["TeX"]
    }
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link rel="shortcut icon" href="icon.ico" type="image/x-icon" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="icon.ico"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MFC
   </div>
   <div id="projectbrief">Exascale flow solver</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- Cross-navigation injected into sidebar via script below -->
<script>
document.addEventListener('DOMContentLoaded', function() {
  var nav = document.createElement('div');
  nav.id = 'mfc-nav';
  var items = [
    ['../documentation/index.html', 'documentation', 'User Guide'],
    ['../api/index.html',           'api',           'API Documentation']
  ];
  var path = window.location.pathname;
  var apiPaths = ['/api/', '/pre_process/', '/simulation/', '/post_process/'];
  for (var i = 0; i < items.length; i++) {
    var a = document.createElement('a');
    a.href = items[i][0];
    a.textContent = items[i][2];
    if (items[i][1] === 'api') {
      for (var j = 0; j < apiPaths.length; j++) {
        if (path.indexOf(apiPaths[j]) !== -1) { a.className = 'active'; break; }
      }
    } else {
      if (path.indexOf('/' + items[i][1] + '/') !== -1) a.className = 'active';
    }
    nav.appendChild(a);
  }
  var sideNav = document.getElementById('side-nav');
  if (sideNav) sideNav.insertBefore(nav, sideNav.firstChild);
});
</script>
<!-- end header part -->
<!-- Generated by Doxygen 1.16.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('cli-reference.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">CLI Reference </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1 class="doxsection"><a class="anchor" id="autotoc_md43"></a>
CLI Reference</h1>
<blockquote class="doxtable">
<p><b>Auto-generated</b> from <span class="tt">toolchain/mfc/cli/commands.py</span></p>
<p>Regenerate with: <span class="tt">./mfc.sh generate</span> </p>
</blockquote>
<h2 class="doxsection"><a class="anchor" id="autotoc_md44"></a>
Overview</h2>
<p>Welcome to the MFC master script. This tool automates and manages building, testing, running, and cleaning of MFC in various configurations on all supported platforms. The README documents this tool and its various commands in more detail. To get started, run <span class="tt">./mfc.sh build -h</span>.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md45"></a>
Quick Reference</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Command  </th><th class="markdownTableHeadNone">Alias  </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="#build" title="build"><code>build</code></a>  </td><td class="markdownTableBodyNone"><span class="tt">b</span>  </td><td class="markdownTableBodyNone">Build MFC and its dependencies.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="#run" title="run"><code>run</code></a>  </td><td class="markdownTableBodyNone"><span class="tt">r</span>  </td><td class="markdownTableBodyNone">Run a case with MFC.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="#test" title="test"><code>test</code></a>  </td><td class="markdownTableBodyNone"><span class="tt">t</span>  </td><td class="markdownTableBodyNone">Run MFC's test suite.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="#clean" title="clean"><code>clean</code></a>  </td><td class="markdownTableBodyNone"><span class="tt">c</span>  </td><td class="markdownTableBodyNone">Clean build artifacts.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="#validate" title="validate"><code>validate</code></a>  </td><td class="markdownTableBodyNone"><span class="tt">v</span>  </td><td class="markdownTableBodyNone">Validate a case file without running.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="#new" title="new"><code>new</code></a>  </td><td class="markdownTableBodyNone">-  </td><td class="markdownTableBodyNone">Create a new case from a template.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="#params" title="params"><code>params</code></a>  </td><td class="markdownTableBodyNone">-  </td><td class="markdownTableBodyNone">Search and explore MFC case parameters.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="#packer" title="packer"><code>packer</code></a>  </td><td class="markdownTableBodyNone">-  </td><td class="markdownTableBodyNone">Packer utility (pack/unpack/compare).  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="#completion" title="completion"><code>completion</code></a>  </td><td class="markdownTableBodyNone">-  </td><td class="markdownTableBodyNone">Install shell tab-completion.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="#help" title="help"><code>help</code></a>  </td><td class="markdownTableBodyNone">-  </td><td class="markdownTableBodyNone">Show help on a topic.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="#generate" title="generate"><code>generate</code></a>  </td><td class="markdownTableBodyNone">-  </td><td class="markdownTableBodyNone">Regenerate completion scripts from CLI schema.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="#load" title="load"><code>load</code></a>  </td><td class="markdownTableBodyNone">-  </td><td class="markdownTableBodyNone">Loads the MFC environment with source.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="#lint" title="lint"><code>lint</code></a>  </td><td class="markdownTableBodyNone">-  </td><td class="markdownTableBodyNone">Lints and tests all toolchain code.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="#format" title="format"><code>format</code></a>  </td><td class="markdownTableBodyNone">-  </td><td class="markdownTableBodyNone">Formats all code after editing.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="#spelling" title="spelling"><code>spelling</code></a>  </td><td class="markdownTableBodyNone">-  </td><td class="markdownTableBodyNone">Runs the spell checker after editing.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="#precheck" title="precheck"><code>precheck</code></a>  </td><td class="markdownTableBodyNone">-  </td><td class="markdownTableBodyNone">Run CI lint checks locally before committing.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="#interactive" title="interactive"><code>interactive</code></a>  </td><td class="markdownTableBodyNone">-  </td><td class="markdownTableBodyNone">Launch interactive menu-driven interface.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="#bench" title="bench"><code>bench</code></a>  </td><td class="markdownTableBodyNone">-  </td><td class="markdownTableBodyNone">Benchmark MFC (for CI).  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="#bench_diff" title="bench_diff"><code>bench_diff</code></a>  </td><td class="markdownTableBodyNone">-  </td><td class="markdownTableBodyNone">Compare MFC Benchmarks (for CI).  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="#count" title="count"><code>count</code></a>  </td><td class="markdownTableBodyNone">-  </td><td class="markdownTableBodyNone">Count LOC in MFC.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="#count_diff" title="count_diff"><code>count_diff</code></a>  </td><td class="markdownTableBodyNone">-  </td><td class="markdownTableBodyNone">Compare LOC between branches.  </td></tr>
</table>
<h2 class="doxsection"><a class="anchor" id="autotoc_md46"></a>
Commands</h2>
<h3 class="doxsection"><a class="anchor" id="build"></a>
build</h3>
<p><b>Alias:</b> <span class="tt">b</span></p>
<p>Build MFC targets with optional GPU support and case optimization.</p>
<p><b>Usage:</b> <span class="tt">./mfc.sh build [OPTIONS]</span></p>
<p><b>Options:</b></p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option  </th><th class="markdownTableHeadNone">Description  </th><th class="markdownTableHeadNone">Default  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">-t</span>, <span class="tt">--targets</span>  </td><td class="markdownTableBodyNone">Space-separated list of targets to act upon.  </td><td class="markdownTableBodyNone"><span class="tt">pre_process, simulation, post_process</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">-j</span>, <span class="tt">--jobs</span>  </td><td class="markdownTableBodyNone">Allows for JOBS concurrent jobs.  </td><td class="markdownTableBodyNone"><span class="tt">1</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">-v</span>, <span class="tt">--verbose</span>  </td><td class="markdownTableBodyNone">Increase output verbosity (-v, -vv, -vvv for more detail).  </td><td class="markdownTableBodyNone"><span class="tt">0</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">-d</span>, <span class="tt">--debug-log</span>  </td><td class="markdownTableBodyNone">Enable Python toolchain debug logging (not MFC code).  </td><td class="markdownTableBodyNone">-  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">-i</span>, <span class="tt">--input</span>  </td><td class="markdownTableBodyNone">(GPU Optimization) Build a version of MFC optimized for a case.  </td><td class="markdownTableBodyNone">-  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">--case-optimization</span>  </td><td class="markdownTableBodyNone">(GPU Optimization) Compile MFC targets with some case parameters hard-coded (requires &ndash;input).  </td><td class="markdownTableBodyNone"><span class="tt">false</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">--mpi</span>, <span class="tt">--no-mpi</span>  </td><td class="markdownTableBodyNone">Enable/disable MPI  </td><td class="markdownTableBodyNone"><span class="tt">true</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">--gpu [acc/mp]</span>, <span class="tt">--no-gpu</span>  </td><td class="markdownTableBodyNone">Enable GPU (OpenACC/OpenMP)  </td><td class="markdownTableBodyNone"><span class="tt">no</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">--debug</span>, <span class="tt">--no-debug</span>  </td><td class="markdownTableBodyNone">Build with debug compiler flags  </td><td class="markdownTableBodyNone"><span class="tt">false</span>  </td></tr>
</table>
<p><b>Examples:</b></p>
<div class="fragment"><div class="line"># Build all default targets (CPU)</div>
<div class="line">./mfc.sh build</div>
<div class="line"> </div>
<div class="line"># Build with 8 parallel jobs</div>
<div class="line">./mfc.sh build -j 8</div>
<div class="line"> </div>
<div class="line"># Build with GPU (OpenACC) support</div>
<div class="line">./mfc.sh build --gpu</div>
<div class="line"> </div>
<div class="line"># Case optimization (10x faster!)</div>
<div class="line">./mfc.sh build -i case.py --case-optimization -j 8</div>
</div><!-- fragment --><hr  />
<h3 class="doxsection"><a class="anchor" id="run"></a>
run</h3>
<p><b>Alias:</b> <span class="tt">r</span></p>
<p>Run an MFC simulation case interactively or submit as a batch job.</p>
<p><b>Usage:</b> <span class="tt">./mfc.sh run INPUT [OPTIONS]</span></p>
<p><b>Arguments:</b></p>
<ul>
<li><span class="tt">INPUT</span> - Input file to run.</li>
</ul>
<p><b>Options:</b></p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option  </th><th class="markdownTableHeadNone">Description  </th><th class="markdownTableHeadNone">Default  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">-t</span>, <span class="tt">--targets</span>  </td><td class="markdownTableBodyNone">Space-separated list of targets to act upon.  </td><td class="markdownTableBodyNone"><span class="tt">pre_process, simulation, post_process</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">-j</span>, <span class="tt">--jobs</span>  </td><td class="markdownTableBodyNone">Allows for JOBS concurrent jobs.  </td><td class="markdownTableBodyNone"><span class="tt">1</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">-v</span>, <span class="tt">--verbose</span>  </td><td class="markdownTableBodyNone">Increase output verbosity (-v, -vv, -vvv for more detail).  </td><td class="markdownTableBodyNone"><span class="tt">0</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">-d</span>, <span class="tt">--debug-log</span>  </td><td class="markdownTableBodyNone">Enable Python toolchain debug logging (not MFC code).  </td><td class="markdownTableBodyNone">-  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">-g</span>, <span class="tt">--gpus</span>  </td><td class="markdownTableBodyNone">(Optional GPU override) List of GPU #s to use (environment default if unspecified).  </td><td class="markdownTableBodyNone">-  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">-e</span>, <span class="tt">--engine</span>  </td><td class="markdownTableBodyNone">Job execution/submission engine choice.  </td><td class="markdownTableBodyNone"><span class="tt">interactive</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">-p</span>, <span class="tt">--partition</span>  </td><td class="markdownTableBodyNone">(Batch) Partition for job submission.  </td><td class="markdownTableBodyNone">-  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">-q</span>, <span class="tt">--quality_of_service</span>  </td><td class="markdownTableBodyNone">(Batch) Quality of Service for job submission.  </td><td class="markdownTableBodyNone">-  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">-N</span>, <span class="tt">--nodes</span>  </td><td class="markdownTableBodyNone">(Batch) Number of nodes.  </td><td class="markdownTableBodyNone"><span class="tt">1</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">-n</span>, <span class="tt">--tasks-per-node</span>  </td><td class="markdownTableBodyNone">Number of tasks per node.  </td><td class="markdownTableBodyNone"><span class="tt">1</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">-w</span>, <span class="tt">--walltime</span>  </td><td class="markdownTableBodyNone">(Batch) Walltime.  </td><td class="markdownTableBodyNone"><span class="tt">01:00:00</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">-a</span>, <span class="tt">--account</span>  </td><td class="markdownTableBodyNone">(Batch) Account to charge.  </td><td class="markdownTableBodyNone">-  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">-@</span>, <span class="tt">--email</span>  </td><td class="markdownTableBodyNone">(Batch) Email for job notification.  </td><td class="markdownTableBodyNone">-  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">-#</span>, <span class="tt">--name</span>  </td><td class="markdownTableBodyNone">(Batch) Job name.  </td><td class="markdownTableBodyNone"><span class="tt">MFC</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">-s</span>, <span class="tt">--scratch</span>  </td><td class="markdownTableBodyNone">Build from scratch.  </td><td class="markdownTableBodyNone"><span class="tt">false</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">-b</span>, <span class="tt">--binary</span>  </td><td class="markdownTableBodyNone">(Interactive) Override MPI execution binary  </td><td class="markdownTableBodyNone">-  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">--dry-run</span>  </td><td class="markdownTableBodyNone">(Batch) Run without submitting batch file.  </td><td class="markdownTableBodyNone"><span class="tt">false</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">--case-optimization</span>  </td><td class="markdownTableBodyNone">(GPU Optimization) Compile MFC targets with some case parameters hard-coded.  </td><td class="markdownTableBodyNone"><span class="tt">false</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">--no-build</span>  </td><td class="markdownTableBodyNone">(Testing) Do not rebuild MFC.  </td><td class="markdownTableBodyNone"><span class="tt">false</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">--wait</span>  </td><td class="markdownTableBodyNone">(Batch) Wait for the job to finish.  </td><td class="markdownTableBodyNone"><span class="tt">false</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">-c</span>, <span class="tt">--computer</span>  </td><td class="markdownTableBodyNone">(Batch) Path to a custom submission file template or one of the built-in templates.  </td><td class="markdownTableBodyNone"><span class="tt">default</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">-o</span>, <span class="tt">--output-summary</span>  </td><td class="markdownTableBodyNone">Output file (YAML) for summary.  </td><td class="markdownTableBodyNone">-  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">--clean</span>  </td><td class="markdownTableBodyNone">Clean the case before running.  </td><td class="markdownTableBodyNone"><span class="tt">false</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">--ncu</span>  </td><td class="markdownTableBodyNone">Profile with NVIDIA Nsight Compute.  </td><td class="markdownTableBodyNone">-  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">--nsys</span>  </td><td class="markdownTableBodyNone">Profile with NVIDIA Nsight Systems.  </td><td class="markdownTableBodyNone">-  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">--rcu</span>  </td><td class="markdownTableBodyNone">Profile with ROCM rocprof-compute.  </td><td class="markdownTableBodyNone">-  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">--rsys</span>  </td><td class="markdownTableBodyNone">Profile with ROCM rocprof-systems.  </td><td class="markdownTableBodyNone">-  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">--mpi</span>, <span class="tt">--no-mpi</span>  </td><td class="markdownTableBodyNone">Enable/disable MPI  </td><td class="markdownTableBodyNone"><span class="tt">true</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">--gpu [acc/mp]</span>, <span class="tt">--no-gpu</span>  </td><td class="markdownTableBodyNone">Enable GPU (OpenACC/OpenMP)  </td><td class="markdownTableBodyNone"><span class="tt">no</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">--debug</span>, <span class="tt">--no-debug</span>  </td><td class="markdownTableBodyNone">Build with debug compiler flags  </td><td class="markdownTableBodyNone"><span class="tt">false</span>  </td></tr>
</table>
<p><b>Examples:</b></p>
<div class="fragment"><div class="line"># Run interactively with 1 rank</div>
<div class="line">./mfc.sh run case.py</div>
<div class="line"> </div>
<div class="line"># Run with 4 MPI ranks</div>
<div class="line">./mfc.sh run case.py -n 4</div>
<div class="line"> </div>
<div class="line"># 10x faster with case optimization!</div>
<div class="line">./mfc.sh run case.py --case-optimization -j 8</div>
<div class="line"> </div>
<div class="line"># Submit batch job: 2 nodes, 4 ranks/node</div>
<div class="line">./mfc.sh run case.py -e batch -N 2 -n 4</div>
</div><!-- fragment --><hr  />
<h3 class="doxsection"><a class="anchor" id="test"></a>
test</h3>
<p><b>Alias:</b> <span class="tt">t</span></p>
<p>Run MFC's test suite with various filtering and generation options.</p>
<p><b>Usage:</b> <span class="tt">./mfc.sh test [OPTIONS]</span></p>
<p><b>Options:</b></p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option  </th><th class="markdownTableHeadNone">Description  </th><th class="markdownTableHeadNone">Default  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">-j</span>, <span class="tt">--jobs</span>  </td><td class="markdownTableBodyNone">Allows for JOBS concurrent jobs.  </td><td class="markdownTableBodyNone"><span class="tt">1</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">-v</span>, <span class="tt">--verbose</span>  </td><td class="markdownTableBodyNone">Increase output verbosity (-v, -vv, -vvv for more detail).  </td><td class="markdownTableBodyNone"><span class="tt">0</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">-d</span>, <span class="tt">--debug-log</span>  </td><td class="markdownTableBodyNone">Enable Python toolchain debug logging (not MFC code).  </td><td class="markdownTableBodyNone">-  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">-g</span>, <span class="tt">--gpus</span>  </td><td class="markdownTableBodyNone">(Optional GPU override) List of GPU #s to use (environment default if unspecified).  </td><td class="markdownTableBodyNone">-  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">-l</span>, <span class="tt">--list</span>  </td><td class="markdownTableBodyNone">List all available tests.  </td><td class="markdownTableBodyNone">-  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">-f</span>, <span class="tt">--from</span>  </td><td class="markdownTableBodyNone">First test UUID to run.  </td><td class="markdownTableBodyNone">-  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">-t</span>, <span class="tt">--to</span>  </td><td class="markdownTableBodyNone">Last test UUID to run.  </td><td class="markdownTableBodyNone">-  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">-o</span>, <span class="tt">--only</span>  </td><td class="markdownTableBodyNone">Only run tests with specified properties.  </td><td class="markdownTableBodyNone"><span class="tt">[]</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">-a</span>, <span class="tt">--test-all</span>  </td><td class="markdownTableBodyNone">Run the Post Process Tests too.  </td><td class="markdownTableBodyNone"><span class="tt">false</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">-%</span>, <span class="tt">--percent</span>  </td><td class="markdownTableBodyNone">Percentage of tests to run.  </td><td class="markdownTableBodyNone"><span class="tt">100</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">-m</span>, <span class="tt">--max-attempts</span>  </td><td class="markdownTableBodyNone">Maximum number of attempts to run a test.  </td><td class="markdownTableBodyNone"><span class="tt">1</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">--rdma-mpi</span>  </td><td class="markdownTableBodyNone">Run tests with RDMA MPI enabled  </td><td class="markdownTableBodyNone"><span class="tt">false</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">--no-build</span>  </td><td class="markdownTableBodyNone">(Testing) Do not rebuild MFC.  </td><td class="markdownTableBodyNone"><span class="tt">false</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">--no-examples</span>  </td><td class="markdownTableBodyNone">Do not test example cases.  </td><td class="markdownTableBodyNone"><span class="tt">false</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">--case-optimization</span>  </td><td class="markdownTableBodyNone">(GPU Optimization) Compile MFC targets with some case parameters hard-coded.  </td><td class="markdownTableBodyNone"><span class="tt">false</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">--dry-run</span>  </td><td class="markdownTableBodyNone">Build and generate case files but do not run tests.  </td><td class="markdownTableBodyNone"><span class="tt">false</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">--generate</span>  </td><td class="markdownTableBodyNone">(Test Generation) Generate golden files.  </td><td class="markdownTableBodyNone"><span class="tt">false</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">--add-new-variables</span>  </td><td class="markdownTableBodyNone">(Test Generation) If new variables are found in D/ when running tests, add them to the golden files.  </td><td class="markdownTableBodyNone"><span class="tt">false</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">--remove-old-tests</span>  </td><td class="markdownTableBodyNone">(Test Generation) Delete test directories that are no longer needed.  </td><td class="markdownTableBodyNone"><span class="tt">false</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">--mpi</span>, <span class="tt">--no-mpi</span>  </td><td class="markdownTableBodyNone">Enable/disable MPI  </td><td class="markdownTableBodyNone"><span class="tt">true</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">--gpu [acc/mp]</span>, <span class="tt">--no-gpu</span>  </td><td class="markdownTableBodyNone">Enable GPU (OpenACC/OpenMP)  </td><td class="markdownTableBodyNone"><span class="tt">no</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">--debug</span>, <span class="tt">--no-debug</span>  </td><td class="markdownTableBodyNone">Build with debug compiler flags  </td><td class="markdownTableBodyNone"><span class="tt">false</span>  </td></tr>
</table>
<p><b>Examples:</b></p>
<div class="fragment"><div class="line"># Run all tests</div>
<div class="line">./mfc.sh test</div>
<div class="line"> </div>
<div class="line"># Run with 4 parallel jobs</div>
<div class="line">./mfc.sh test -j 4</div>
<div class="line"> </div>
<div class="line"># Run only 3D tests</div>
<div class="line">./mfc.sh test --only 3D</div>
<div class="line"> </div>
<div class="line"># Regenerate golden files</div>
<div class="line">./mfc.sh test --generate</div>
</div><!-- fragment --><hr  />
<h3 class="doxsection"><a class="anchor" id="clean"></a>
clean</h3>
<p><b>Alias:</b> <span class="tt">c</span></p>
<p>Remove build artifacts and cache files.</p>
<p><b>Usage:</b> <span class="tt">./mfc.sh clean [OPTIONS]</span></p>
<p><b>Options:</b></p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option  </th><th class="markdownTableHeadNone">Description  </th><th class="markdownTableHeadNone">Default  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">-t</span>, <span class="tt">--targets</span>  </td><td class="markdownTableBodyNone">Space-separated list of targets to act upon.  </td><td class="markdownTableBodyNone"><span class="tt">pre_process, simulation, post_process</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">-j</span>, <span class="tt">--jobs</span>  </td><td class="markdownTableBodyNone">Allows for JOBS concurrent jobs.  </td><td class="markdownTableBodyNone"><span class="tt">1</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">-v</span>, <span class="tt">--verbose</span>  </td><td class="markdownTableBodyNone">Increase output verbosity (-v, -vv, -vvv for more detail).  </td><td class="markdownTableBodyNone"><span class="tt">0</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">-d</span>, <span class="tt">--debug-log</span>  </td><td class="markdownTableBodyNone">Enable Python toolchain debug logging (not MFC code).  </td><td class="markdownTableBodyNone">-  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">--mpi</span>, <span class="tt">--no-mpi</span>  </td><td class="markdownTableBodyNone">Enable/disable MPI  </td><td class="markdownTableBodyNone"><span class="tt">true</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">--gpu [acc/mp]</span>, <span class="tt">--no-gpu</span>  </td><td class="markdownTableBodyNone">Enable GPU (OpenACC/OpenMP)  </td><td class="markdownTableBodyNone"><span class="tt">no</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">--debug</span>, <span class="tt">--no-debug</span>  </td><td class="markdownTableBodyNone">Build with debug compiler flags  </td><td class="markdownTableBodyNone"><span class="tt">false</span>  </td></tr>
</table>
<p><b>Examples:</b></p>
<div class="fragment"><div class="line"># Clean all build files</div>
<div class="line">./mfc.sh clean</div>
</div><!-- fragment --><hr  />
<h3 class="doxsection"><a class="anchor" id="validate"></a>
validate</h3>
<p><b>Alias:</b> <span class="tt">v</span></p>
<p>Check a case file for syntax errors and constraint violations.</p>
<p><b>Usage:</b> <span class="tt">./mfc.sh validate INPUT [OPTIONS]</span></p>
<p><b>Arguments:</b></p>
<ul>
<li><span class="tt">INPUT</span> - Path to case file to validate.</li>
</ul>
<p><b>Options:</b></p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option  </th><th class="markdownTableHeadNone">Description  </th><th class="markdownTableHeadNone">Default  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">-d</span>, <span class="tt">--debug-log</span>  </td><td class="markdownTableBodyNone">Enable Python toolchain debug logging (not MFC code).  </td><td class="markdownTableBodyNone">-  </td></tr>
</table>
<p><b>Examples:</b></p>
<div class="fragment"><div class="line"># Check syntax and constraints</div>
<div class="line">./mfc.sh validate case.py</div>
<div class="line"> </div>
<div class="line"># Validate with toolchain debug output</div>
<div class="line">./mfc.sh validate case.py -d</div>
</div><!-- fragment --><hr  />
<h2 class="doxsection"><a class="anchor" id="autotoc_md52"></a>
Utility Commands</h2>
<h3 class="doxsection"><a class="anchor" id="new"></a>
new</h3>
<p>Create a new simulation case directory from a built-in or example template.</p>
<p><b>Usage:</b> <span class="tt">./mfc.sh new [NAME] [OPTIONS]</span></p>
<p><b>Arguments:</b></p>
<ul>
<li><span class="tt">NAME</span> - Name/path for the new case directory.</li>
</ul>
<p><b>Options:</b></p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option  </th><th class="markdownTableHeadNone">Description  </th><th class="markdownTableHeadNone">Default  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">-t</span>, <span class="tt">--template</span>  </td><td class="markdownTableBodyNone">Template to use (e.g., 1D_minimal, 2D_minimal, 3D_minimal, or example:&lt;name&gt;).  </td><td class="markdownTableBodyNone"><span class="tt">1D_minimal</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">-l</span>, <span class="tt">--list</span>  </td><td class="markdownTableBodyNone">List available templates.  </td><td class="markdownTableBodyNone">-  </td></tr>
</table>
<p><b>Examples:</b></p>
<div class="fragment"><div class="line"># Create with 1D_minimal template</div>
<div class="line">./mfc.sh new my_case</div>
<div class="line"> </div>
<div class="line"># Create with 2D template</div>
<div class="line">./mfc.sh new my_case -t 2D_minimal</div>
<div class="line"> </div>
<div class="line"># Copy from example</div>
<div class="line">./mfc.sh new my_case -t example:3D_sphbubcollapse</div>
<div class="line"> </div>
<div class="line"># List available templates</div>
<div class="line">./mfc.sh new --list</div>
</div><!-- fragment --><hr  />
<h3 class="doxsection"><a class="anchor" id="params"></a>
params</h3>
<p>Search, list, and get information about MFC's ~3,300 case parameters.</p>
<p><b>Usage:</b> <span class="tt">./mfc.sh params [QUERY] [OPTIONS]</span></p>
<p><b>Arguments:</b></p>
<ul>
<li><span class="tt">QUERY</span> - Search query (parameter name or pattern to search for).</li>
</ul>
<p><b>Options:</b></p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option  </th><th class="markdownTableHeadNone">Description  </th><th class="markdownTableHeadNone">Default  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">-t</span>, <span class="tt">--type</span>  </td><td class="markdownTableBodyNone">Filter by type: int, real, log, str.  </td><td class="markdownTableBodyNone">-  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">-f</span>, <span class="tt">--families</span>  </td><td class="markdownTableBodyNone">List parameter families (grouped by prefix).  </td><td class="markdownTableBodyNone"><span class="tt">false</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">-F</span>, <span class="tt">--features</span>  </td><td class="markdownTableBodyNone">List feature groups (mhd, bubbles, weno, etc.).  </td><td class="markdownTableBodyNone"><span class="tt">false</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">--feature</span>  </td><td class="markdownTableBodyNone">Show all parameters for a feature group (e.g., &ndash;feature mhd).  </td><td class="markdownTableBodyNone">-  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">--names-only</span>  </td><td class="markdownTableBodyNone">Only search parameter names (not descriptions).  </td><td class="markdownTableBodyNone"><span class="tt">false</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">-c</span>, <span class="tt">--count</span>  </td><td class="markdownTableBodyNone">Show count statistics only.  </td><td class="markdownTableBodyNone"><span class="tt">false</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">-n</span>, <span class="tt">--limit</span>  </td><td class="markdownTableBodyNone">Maximum number of results to show (default: unlimited).  </td><td class="markdownTableBodyNone"><span class="tt">10000</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">-d</span>, <span class="tt">--describe</span>  </td><td class="markdownTableBodyNone">Show parameter descriptions.  </td><td class="markdownTableBodyNone"><span class="tt">false</span>  </td></tr>
</table>
<p><b>Examples:</b></p>
<div class="fragment"><div class="line"># Search for parameters (names + descriptions)</div>
<div class="line">./mfc.sh params weno</div>
<div class="line"> </div>
<div class="line"># Find params mentioning &#39;magnetic&#39;</div>
<div class="line">./mfc.sh params magnetic</div>
<div class="line"> </div>
<div class="line"># Show all MHD-related parameters</div>
<div class="line">./mfc.sh params --feature mhd</div>
<div class="line"> </div>
<div class="line"># List all feature groups</div>
<div class="line">./mfc.sh params -F</div>
<div class="line"> </div>
<div class="line"># List parameter families (by prefix)</div>
<div class="line">./mfc.sh params -f</div>
<div class="line"> </div>
<div class="line"># Show parameter count statistics</div>
<div class="line">./mfc.sh params -c</div>
</div><!-- fragment --><hr  />
<h3 class="doxsection"><a class="anchor" id="packer"></a>
packer</h3>
<p>Pack simulation output into a single file or compare packed files.</p>
<p><b>Usage:</b> <span class="tt">./mfc.sh packer [OPTIONS]</span></p>
<p><b>Examples:</b></p>
<div class="fragment"><div class="line"># Pack case output</div>
<div class="line">./mfc.sh packer pack case.py</div>
<div class="line"> </div>
<div class="line"># Compare two packed files</div>
<div class="line">./mfc.sh packer compare a.pack b.pack</div>
</div><!-- fragment --><p><b>Subcommands:</b></p>
<h4 class="doxsection"><a class="anchor" id="autotoc_md55"></a>
packer pack</h4>
<p>Pack a case into a single file.</p>
<p>Arguments:</p><ul>
<li><span class="tt">INPUT</span> - Input file of case to pack.</li>
</ul>
<p>Options:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option  </th><th class="markdownTableHeadNone">Description  </th><th class="markdownTableHeadNone">Default  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">-o</span>, <span class="tt">--output</span>  </td><td class="markdownTableBodyNone">Base name of output file.  </td><td class="markdownTableBodyNone">-  </td></tr>
</table>
<h4 class="doxsection"><a class="anchor" id="autotoc_md56"></a>
packer compare</h4>
<p>Compare two cases.</p>
<p>Arguments:</p><ul>
<li><span class="tt">INPUT1</span> - First pack file.</li>
<li><span class="tt">INPUT2</span> - Second pack file.</li>
</ul>
<p>Options:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option  </th><th class="markdownTableHeadNone">Description  </th><th class="markdownTableHeadNone">Default  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">-rel</span>, <span class="tt">--reltol</span>  </td><td class="markdownTableBodyNone">Relative tolerance.  </td><td class="markdownTableBodyNone"><span class="tt">1e-12</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">-abs</span>, <span class="tt">--abstol</span>  </td><td class="markdownTableBodyNone">Absolute tolerance.  </td><td class="markdownTableBodyNone"><span class="tt">1e-12</span>  </td></tr>
</table>
<hr  />
<h3 class="doxsection"><a class="anchor" id="completion"></a>
completion</h3>
<p>Install or manage shell tab-completion for MFC commands.</p>
<p><b>Usage:</b> <span class="tt">./mfc.sh completion [COMPLETION_ACTION] [COMPLETION_SHELL] [OPTIONS]</span></p>
<p><b>Arguments:</b></p>
<ul>
<li><span class="tt">COMPLETION_ACTION</span> - Action: install, uninstall, or status</li>
<li><span class="tt">COMPLETION_SHELL</span> - Shell type: bash or zsh (auto-detected if not specified)</li>
</ul>
<p><b>Examples:</b></p>
<div class="fragment"><div class="line"># Install tab completion for current shell</div>
<div class="line">./mfc.sh completion install</div>
<div class="line"> </div>
<div class="line"># Install for bash specifically</div>
<div class="line">./mfc.sh completion install bash</div>
<div class="line"> </div>
<div class="line"># Check completion installation status</div>
<div class="line">./mfc.sh completion status</div>
</div><!-- fragment --><hr  />
<h3 class="doxsection"><a class="anchor" id="help"></a>
help</h3>
<p>Show help on a topic.</p>
<p><b>Usage:</b> <span class="tt">./mfc.sh help [TOPIC] [OPTIONS]</span></p>
<p><b>Arguments:</b></p>
<ul>
<li><span class="tt">TOPIC</span> - Help topic: gpu, clusters, batch, debugging, performance</li>
</ul>
<hr  />
<h3 class="doxsection"><a class="anchor" id="generate"></a>
generate</h3>
<p>Regenerate shell completion scripts, documentation, and JSON schema from the CLI schema.</p>
<p><b>Usage:</b> <span class="tt">./mfc.sh generate [OPTIONS]</span></p>
<p><b>Options:</b></p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option  </th><th class="markdownTableHeadNone">Description  </th><th class="markdownTableHeadNone">Default  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">--check</span>  </td><td class="markdownTableBodyNone">Check if generated files are up to date (exit 1 if not).  </td><td class="markdownTableBodyNone"><span class="tt">false</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">--json-schema</span>  </td><td class="markdownTableBodyNone">Generate JSON Schema for IDE auto-completion of case files.  </td><td class="markdownTableBodyNone"><span class="tt">false</span>  </td></tr>
</table>
<p><b>Examples:</b></p>
<div class="fragment"><div class="line"># Regenerate completion scripts</div>
<div class="line">./mfc.sh generate</div>
<div class="line"> </div>
<div class="line"># Check if completions are up to date</div>
<div class="line">./mfc.sh generate --check</div>
<div class="line"> </div>
<div class="line"># Generate JSON Schema for IDE support</div>
<div class="line">./mfc.sh generate --json-schema</div>
</div><!-- fragment --><hr  />
<h2 class="doxsection"><a class="anchor" id="autotoc_md61"></a>
Development Commands</h2>
<h3 class="doxsection"><a class="anchor" id="lint"></a>
lint</h3>
<p>Run pylint and unit tests on MFC's toolchain Python code.</p>
<p><b>Usage:</b> <span class="tt">./mfc.sh lint [OPTIONS]</span></p>
<p><b>Options:</b></p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option  </th><th class="markdownTableHeadNone">Description  </th><th class="markdownTableHeadNone">Default  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">--no-test</span>  </td><td class="markdownTableBodyNone">Skip running unit tests (only run pylint).  </td><td class="markdownTableBodyNone">-  </td></tr>
</table>
<p><b>Examples:</b></p>
<div class="fragment"><div class="line"># Run pylint and unit tests</div>
<div class="line">./mfc.sh lint</div>
<div class="line"> </div>
<div class="line"># Run only pylint (skip unit tests)</div>
<div class="line">./mfc.sh lint --no-test</div>
</div><!-- fragment --><hr  />
<h3 class="doxsection"><a class="anchor" id="format"></a>
format</h3>
<p>Format all code in the repository.</p>
<p><b>Usage:</b> <span class="tt">./mfc.sh format [OPTIONS]</span></p>
<p><b>Examples:</b></p>
<div class="fragment"><div class="line"># Format all code</div>
<div class="line">./mfc.sh format</div>
<div class="line"> </div>
<div class="line"># Format with 8 parallel jobs</div>
<div class="line">./mfc.sh format -j 8</div>
</div><!-- fragment --><hr  />
<h3 class="doxsection"><a class="anchor" id="spelling"></a>
spelling</h3>
<p>Check spelling in the codebase.</p>
<p><b>Usage:</b> <span class="tt">./mfc.sh spelling [OPTIONS]</span></p>
<p><b>Examples:</b></p>
<div class="fragment"><div class="line"># Run spell checker</div>
<div class="line">./mfc.sh spelling</div>
</div><!-- fragment --><hr  />
<h3 class="doxsection"><a class="anchor" id="precheck"></a>
precheck</h3>
<p>Run the same fast checks that CI runs before expensive tests start. Use this locally before pushing to catch issues early.</p>
<p><b>Usage:</b> <span class="tt">./mfc.sh precheck [OPTIONS]</span></p>
<p><b>Options:</b></p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option  </th><th class="markdownTableHeadNone">Description  </th><th class="markdownTableHeadNone">Default  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">-j</span>, <span class="tt">--jobs</span>  </td><td class="markdownTableBodyNone">Number of parallel jobs for formatting.  </td><td class="markdownTableBodyNone">-  </td></tr>
</table>
<p><b>Examples:</b></p>
<div class="fragment"><div class="line"># Run all lint checks</div>
<div class="line">./mfc.sh precheck</div>
<div class="line"> </div>
<div class="line"># Run with 8 parallel jobs</div>
<div class="line">./mfc.sh precheck -j 8</div>
</div><!-- fragment --><hr  />
<h3 class="doxsection"><a class="anchor" id="count"></a>
count</h3>
<p>Count LOC in MFC.</p>
<p><b>Usage:</b> <span class="tt">./mfc.sh count [OPTIONS]</span></p>
<p><b>Options:</b></p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option  </th><th class="markdownTableHeadNone">Description  </th><th class="markdownTableHeadNone">Default  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">-t</span>, <span class="tt">--targets</span>  </td><td class="markdownTableBodyNone">Space-separated list of targets to act upon.  </td><td class="markdownTableBodyNone"><span class="tt">pre_process, simulation, post_process</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">-j</span>, <span class="tt">--jobs</span>  </td><td class="markdownTableBodyNone">Allows for JOBS concurrent jobs.  </td><td class="markdownTableBodyNone"><span class="tt">1</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">-v</span>, <span class="tt">--verbose</span>  </td><td class="markdownTableBodyNone">Increase output verbosity (-v, -vv, -vvv for more detail).  </td><td class="markdownTableBodyNone"><span class="tt">0</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">-d</span>, <span class="tt">--debug-log</span>  </td><td class="markdownTableBodyNone">Enable Python toolchain debug logging (not MFC code).  </td><td class="markdownTableBodyNone">-  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">--mpi</span>, <span class="tt">--no-mpi</span>  </td><td class="markdownTableBodyNone">Enable/disable MPI  </td><td class="markdownTableBodyNone"><span class="tt">true</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">--gpu [acc/mp]</span>, <span class="tt">--no-gpu</span>  </td><td class="markdownTableBodyNone">Enable GPU (OpenACC/OpenMP)  </td><td class="markdownTableBodyNone"><span class="tt">no</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">--debug</span>, <span class="tt">--no-debug</span>  </td><td class="markdownTableBodyNone">Build with debug compiler flags  </td><td class="markdownTableBodyNone"><span class="tt">false</span>  </td></tr>
</table>
<p><b>Examples:</b></p>
<div class="fragment"><div class="line"># Show LOC statistics</div>
<div class="line">./mfc.sh count</div>
</div><!-- fragment --><hr  />
<h3 class="doxsection"><a class="anchor" id="count_diff"></a>
count_diff</h3>
<p>Compare LOC between branches.</p>
<p><b>Usage:</b> <span class="tt">./mfc.sh count_diff [OPTIONS]</span></p>
<p><b>Options:</b></p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option  </th><th class="markdownTableHeadNone">Description  </th><th class="markdownTableHeadNone">Default  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">-t</span>, <span class="tt">--targets</span>  </td><td class="markdownTableBodyNone">Space-separated list of targets to act upon.  </td><td class="markdownTableBodyNone"><span class="tt">pre_process, simulation, post_process</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">-j</span>, <span class="tt">--jobs</span>  </td><td class="markdownTableBodyNone">Allows for JOBS concurrent jobs.  </td><td class="markdownTableBodyNone"><span class="tt">1</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">-v</span>, <span class="tt">--verbose</span>  </td><td class="markdownTableBodyNone">Increase output verbosity (-v, -vv, -vvv for more detail).  </td><td class="markdownTableBodyNone"><span class="tt">0</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">-d</span>, <span class="tt">--debug-log</span>  </td><td class="markdownTableBodyNone">Enable Python toolchain debug logging (not MFC code).  </td><td class="markdownTableBodyNone">-  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">--mpi</span>, <span class="tt">--no-mpi</span>  </td><td class="markdownTableBodyNone">Enable/disable MPI  </td><td class="markdownTableBodyNone"><span class="tt">true</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">--gpu [acc/mp]</span>, <span class="tt">--no-gpu</span>  </td><td class="markdownTableBodyNone">Enable GPU (OpenACC/OpenMP)  </td><td class="markdownTableBodyNone"><span class="tt">no</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">--debug</span>, <span class="tt">--no-debug</span>  </td><td class="markdownTableBodyNone">Build with debug compiler flags  </td><td class="markdownTableBodyNone"><span class="tt">false</span>  </td></tr>
</table>
<hr  />
<h2 class="doxsection"><a class="anchor" id="autotoc_md68"></a>
CI Commands</h2>
<h3 class="doxsection"><a class="anchor" id="bench"></a>
bench</h3>
<p>Benchmark MFC (for CI).</p>
<p><b>Usage:</b> <span class="tt">./mfc.sh bench [OPTIONS]</span></p>
<p><b>Options:</b></p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option  </th><th class="markdownTableHeadNone">Description  </th><th class="markdownTableHeadNone">Default  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">-t</span>, <span class="tt">--targets</span>  </td><td class="markdownTableBodyNone">Space-separated list of targets to act upon.  </td><td class="markdownTableBodyNone"><span class="tt">pre_process, simulation, post_process</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">-j</span>, <span class="tt">--jobs</span>  </td><td class="markdownTableBodyNone">Allows for JOBS concurrent jobs.  </td><td class="markdownTableBodyNone"><span class="tt">1</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">-v</span>, <span class="tt">--verbose</span>  </td><td class="markdownTableBodyNone">Increase output verbosity (-v, -vv, -vvv for more detail).  </td><td class="markdownTableBodyNone"><span class="tt">0</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">-d</span>, <span class="tt">--debug-log</span>  </td><td class="markdownTableBodyNone">Enable Python toolchain debug logging (not MFC code).  </td><td class="markdownTableBodyNone">-  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">-g</span>, <span class="tt">--gpus</span>  </td><td class="markdownTableBodyNone">(Optional GPU override) List of GPU #s to use (environment default if unspecified).  </td><td class="markdownTableBodyNone">-  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">-o</span>, <span class="tt">--output</span>  </td><td class="markdownTableBodyNone">Path to the YAML output file to write the results to.  </td><td class="markdownTableBodyNone">-  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">-m</span>, <span class="tt">--mem</span>  </td><td class="markdownTableBodyNone">Memory per task for benchmarking cases  </td><td class="markdownTableBodyNone"><span class="tt">1</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">--mpi</span>, <span class="tt">--no-mpi</span>  </td><td class="markdownTableBodyNone">Enable/disable MPI  </td><td class="markdownTableBodyNone"><span class="tt">true</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">--gpu [acc/mp]</span>, <span class="tt">--no-gpu</span>  </td><td class="markdownTableBodyNone">Enable GPU (OpenACC/OpenMP)  </td><td class="markdownTableBodyNone"><span class="tt">no</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">--debug</span>, <span class="tt">--no-debug</span>  </td><td class="markdownTableBodyNone">Build with debug compiler flags  </td><td class="markdownTableBodyNone"><span class="tt">false</span>  </td></tr>
</table>
<p><b>Examples:</b></p>
<div class="fragment"><div class="line"># Run benchmarks and save results</div>
<div class="line">./mfc.sh bench -o results.yaml</div>
</div><!-- fragment --><hr  />
<h3 class="doxsection"><a class="anchor" id="bench_diff"></a>
bench_diff</h3>
<p>Compare MFC Benchmarks (for CI).</p>
<p><b>Usage:</b> <span class="tt">./mfc.sh bench_diff LHS RHS [OPTIONS]</span></p>
<p><b>Arguments:</b></p>
<ul>
<li><span class="tt">LHS</span> - Path to a benchmark result YAML file.</li>
<li><span class="tt">RHS</span> - Path to a benchmark result YAML file.</li>
</ul>
<p><b>Options:</b></p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option  </th><th class="markdownTableHeadNone">Description  </th><th class="markdownTableHeadNone">Default  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">-j</span>, <span class="tt">--jobs</span>  </td><td class="markdownTableBodyNone">Allows for JOBS concurrent jobs.  </td><td class="markdownTableBodyNone"><span class="tt">1</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">-v</span>, <span class="tt">--verbose</span>  </td><td class="markdownTableBodyNone">Increase output verbosity (-v, -vv, -vvv for more detail).  </td><td class="markdownTableBodyNone"><span class="tt">0</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">-d</span>, <span class="tt">--debug-log</span>  </td><td class="markdownTableBodyNone">Enable Python toolchain debug logging (not MFC code).  </td><td class="markdownTableBodyNone">-  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">--mpi</span>, <span class="tt">--no-mpi</span>  </td><td class="markdownTableBodyNone">Enable/disable MPI  </td><td class="markdownTableBodyNone"><span class="tt">true</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">--gpu [acc/mp]</span>, <span class="tt">--no-gpu</span>  </td><td class="markdownTableBodyNone">Enable GPU (OpenACC/OpenMP)  </td><td class="markdownTableBodyNone"><span class="tt">no</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">--debug</span>, <span class="tt">--no-debug</span>  </td><td class="markdownTableBodyNone">Build with debug compiler flags  </td><td class="markdownTableBodyNone"><span class="tt">false</span>  </td></tr>
</table>
<hr  />
<h2 class="doxsection"><a class="anchor" id="autotoc_md71"></a>
Other Commands</h2>
<h3 class="doxsection"><a class="anchor" id="load"></a>
load</h3>
<p>Load MFC environment modules (use with source).</p>
<p><b>Usage:</b> <span class="tt">./mfc.sh load [OPTIONS]</span></p>
<p><b>Examples:</b></p>
<div class="fragment"><div class="line"># Load Phoenix GPU modules</div>
<div class="line">source ./mfc.sh load -c p -m g</div>
<div class="line"> </div>
<div class="line"># Load Frontier CPU modules</div>
<div class="line">source ./mfc.sh load -c f -m c</div>
</div><!-- fragment --><hr  />
<h3 class="doxsection"><a class="anchor" id="interactive"></a>
interactive</h3>
<p>Launch an interactive menu for MFC operations.</p>
<p><b>Usage:</b> <span class="tt">./mfc.sh interactive [OPTIONS]</span></p>
<hr  />
<h2 class="doxsection"><a class="anchor" id="autotoc_md74"></a>
Common Options</h2>
<p>Many commands share common option sets:</p>
<h3 class="doxsection"><a class="anchor" id="autotoc_md75"></a>
Target Selection (<span class="tt">-t, --targets</span>)</h3>
<p>Available targets:</p><ul>
<li><span class="tt">pre_process</span> - Pre-processor</li>
<li><span class="tt">simulation</span> - Main simulation</li>
<li><span class="tt">post_process</span> - Post-processor</li>
<li><span class="tt">syscheck</span> - System check utility</li>
<li><span class="tt">documentation</span> - Build documentation</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md76"></a>
Build Configuration Flags</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Flag  </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">--mpi</span> / <span class="tt">--no-mpi</span>  </td><td class="markdownTableBodyNone">Enable/disable MPI support  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">--gpu [acc/mp]</span> / <span class="tt">--no-gpu</span>  </td><td class="markdownTableBodyNone">Enable GPU with OpenACC or OpenMP  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">--debug</span> / <span class="tt">--no-debug</span>  </td><td class="markdownTableBodyNone">Build with debug compiler flags  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">--gcov</span> / <span class="tt">--no-gcov</span>  </td><td class="markdownTableBodyNone">Enable code coverage  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">--single</span> / <span class="tt">--no-single</span>  </td><td class="markdownTableBodyNone">Single precision  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">--mixed</span> / <span class="tt">--no-mixed</span>  </td><td class="markdownTableBodyNone">Mixed precision  </td></tr>
</table>
<h3 class="doxsection"><a class="anchor" id="autotoc_md77"></a>
Verbosity (<span class="tt">-v, --verbose</span>)</h3>
<p>Controls output verbosity level:</p>
<ul>
<li><span class="tt">-v</span> - Basic verbose output</li>
<li><span class="tt">-vv</span> - Show build commands</li>
<li><span class="tt">-vvv</span> - Full verbose output including CMake details</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md78"></a>
Debug Logging (<span class="tt">-d, --debug-log</span>)</h3>
<p>Enables debug logging for the Python toolchain (mfc.sh internals). This is for troubleshooting the build system, not the MFC simulation code.</p>
<div style="text-align:center; font-size:0.75rem; color:#888; padding:16px 0 0;">Page last updated: 2026-02-19</div> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath">
  <ul></ul>
</div>
</body>
</html>
